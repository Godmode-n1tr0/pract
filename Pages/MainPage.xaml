<Page x:Class="pract7.Pages.MainPage"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      Title="Главная страница" 
      Background="White"
      Height="500" 
      Width="800">
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="50"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <Border Grid.Row="0" Background="LightGray" Padding="10">
            <StackPanel Orientation="Horizontal">
                <Label Content="Врач:" FontWeight="Bold"/>
                <Label x:Name="DoctorLabel" Content="" Margin="5,0"/>
                <Label Content="Специализация:" FontWeight="Bold" Margin="20,0,0,0"/>
                <Label x:Name="SpecLabel" Content="" Margin="5,0"/>

                <Separator Margin="20,0" Width="2" Background="DarkGray"/>

                <Label Content="Врачей:" FontWeight="Bold"/>
                <Label Content="{Binding DoctorCount}" Margin="5,0" FontWeight="Bold" Foreground="Black"/>

                <Label Content="Пациентов:" FontWeight="Bold" Margin="20,0,0,0"/>
                <Label Content="{Binding PatientCount}" Margin="5,0" FontWeight="Bold" Foreground="Black"/>
            </StackPanel>
        </Border>

        <Grid Grid.Row="1">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="180"/>
                <ColumnDefinition Width="*"/>
            </Grid.ColumnDefinitions>

            <Border Grid.Column="0" BorderBrush="Gray" BorderThickness="0,0,1,0">
                <StackPanel Margin="10">
                    <Label Content="Управление" FontWeight="Bold" Margin="0,0,0,10"/>
                    <Button Content="Создать пациента" Height="30" Margin="0,5" Click="CreatePatient_Click"/>
                    <Button Content="Начать прием" Height="30" Margin="0,5" Click="StartAppointment_Click"/>
                    <Button Content="Изменить инфо" Height="30" Margin="0,5" Click="EditPatient_Click"/>
                </StackPanel>
            </Border>

            <StackPanel Grid.Column="1" Margin="10">
                <Label Content="Список пациентов:" FontWeight="Bold" FontSize="14" Margin="0,0,0,10"/>
                <ListView x:Name="PatientsList" 
                          Height="350" 
                          ItemsSource="{Binding Patients}"
                          SelectedItem="{Binding SelectedPatient, Mode=TwoWay}">
                    <ListView.View>
                        <GridView>
                            <GridViewColumn Header="Фамилия" Width="120" DisplayMemberBinding="{Binding LastName}"/>
                            <GridViewColumn Header="Имя" Width="120" DisplayMemberBinding="{Binding Name}"/>
                            <GridViewColumn Header="Телефон" Width="150" DisplayMemberBinding="{Binding PhoneNumber}"/>
                            <GridViewColumn Header="Дата рождения" Width="120" DisplayMemberBinding="{Binding Birthday}"/>
                        </GridView>
                    </ListView.View>
                </ListView>
            </StackPanel>
        </Grid>
    </Grid>
</Page>